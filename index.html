<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    <script type="text/javascript">(function() {emailjs.init("mFRuprzAGH722pGQC");})();</script>
    <title>Viewer</title>
</head>
<style>
    #password-container{ text-align: center;}
    

</style>
<body>

    <div id="password-container">
        <label for="password">Enter Password:</label>
        <input type="password" id="password" />
        <button onclick="checkPassword()">Submit</button>
        <button onclick="mail()">Request for Password</button>
    </div>

    <div id="pdf-container" style="display:none;">
        <embed src="Temp/Misc/Collateral.html" width="100%" height="600px" >
    </div>

    <script>
        var correctPassword = ""
        var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*"
            for (let i = 0; i < 10; i++) {
                correctPassword += characters.charAt(Math.floor(Math.random() * characters.length))
            }
        console.log(correctPassword)

        function mail(){
            var param = {
                message: correctPassword
            };
            emailjs.send("service_r5gh8ul","template_pvgheo9",param).then(function(response){
            //console.log("great")
                //window.location.href = "index.html";
            })
            alert("Request Sent")
        }

        function checkPassword() {
            var enteredPassword = document.getElementById("password").value;
            
            if (enteredPassword == correctPassword) {
                document.getElementById("password-container").style.display = "none";
                document.getElementById("pdf-container").style.display = "block";
            } else {
                alert("Incorrect password. Try again.");
            }
        }

    </script>

</body>
</html>